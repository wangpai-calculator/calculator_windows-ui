@[TOC](多功能计算器代码介绍)

<p align="right">——2021年3月8日</p>

代码介绍：

&emsp;&emsp;本工程是把原 C++ 创作“`20191025-多功能计算器`”中的版本“`20201125-版本M.0.2`”直接改写 Java 代码，并纠正其中的代码规范而完成的。

* 针对原项目，本工程中除了本就应修改的代码规范之外的改动如下：
  - 将原项目的 goto 语句改成非 goto 语句，改进的方法是，外加一层只循环一次的 for 循环，然后设置 needContinue 标志位。这样一来，在 只循环一次的 for 循环中可以通过 break 以及 needContinue 的值来代替原 goto 的直接跳转。
  - 将原项目的 C++ 的 cin、cout 输入、输出，改为 Java 的 InputStreamReader、BufferedReader 和 `System.out.print` 、`System.out.println`。不过要注意的是，在 Java 中没有直接读取单个 char 字符的 API、没有类似 Stack 中的 peek 方法的“只查看下一次输入，但不抽取下一次输入”的 API。所以这里使用的办法是，每次直接从输入中读取一行字符，先暂存在本地设置的数据结构中，然后再让自己的读单个字符的函数从本地的那个数据结构中读取单个字符。而且，因为输入现在变成了自己本地设置的数据结构，因此将清空输入等等操作都变得方便。
  - 去掉了原项目的 C++ 中的类 `stack_auxCla`，因为此类作为工具类，其提供的所有自定义方法，在 Java 中都有相应的库方法了，所以不再需要此类。

* 本工程残留的问题有：（这些问题已在原代码中使用`// FIXME`注明）
  - 方法 coutset：此方法是原 C++ 项目中用于设置显示输出浮点数的位数的函数。本工程中的本版本暂时没有去实现此功能。
  - 输入流被破坏：原 C++ 项目中有用于处理，当输入流因不当输入而被破坏的功能。本工程中的本版本暂时没有去实现此功能。
  
  

笔者使用的开发工具：IntelliJ IDEA 2020.1.2 (Ultimate Edition)



示例运行程序源文件：Main.java

核心 Java 语言代码文件：

* 程序启动入口 API：public void evalExp()【calculator.Calculator】

* Calculator.java【658行】




截止至2021年3月8日，在核心的代码中，总的代码行数为（按前面从上到下列出的文件顺序给出）：

> 658行



程序屏幕输入示例：`234234.623*6345-234/1234+234*(254-45.23542)=`



一个屏幕输出结果的片段：

---

![在这里插入图片描述](img_md/20210308_1.png#pic_center)

---

![在这里插入图片描述](img_md/20210308_2.png#pic_center)

---

