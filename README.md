# 多功能计算器

* 此代码是作者出于兴趣爱好自己编写的。转载请注明。

* 作者的邮箱：contactwangpai@163.com

---

分支 M # 最新版本 ` M.2.3 ` 支持的功能：（以用户的角度）

1. 操作数支持多位运算。一个操作数可以是十位数或者更高位数的数
2. 操作数支持小数点、负数，运算结果支持显示小数、负数
3. 表达式可以含多个操作数、多个运算符，还可以带括号
4. 对输入的表达式提供实时自动语法检查与错误定位，并支持检查后的修改
5. 对输入无误的表达式进行实时自动计算，并可选显示完整详细的计算过程。
6. 使用 GUI 界面来显示上面的表达式输入、报错显示、运算过程
7. 提供界面按钮以供输入。按钮包含文本全选、光标左移与右移，选中文本的删除、输入替换
8. 支持键盘输入
9. 提供 Windows 下免安装 JDK 直接运行的 EXE 文件

---



# 本次更新介绍

<p align="right">——2021年8月13日</p>

代码介绍：

&emsp;&emsp;本工程是在 本分支的上一版本的基础之上进行的升级。

&emsp;&emsp;相对于版本 ` M.2.2 `，本版本 ` M.2.3 ` 的改进主要有：

* 借助 Maven 插件 `maven-assembly-plugin`，提供生成免安装 JDK 的 EXE 文件的功能。并尝试在 GitHub 中发布此 EXE 文件

* 对每个Bean 提供了懒加载功能

  - 迫使本次这项改进的原因是，生成的 EXE 文件在双击运行后的启动时间很久，可能长达 5-10 秒。

    但问题是生成的 EXE 文件一共就占 4.33 MB。

    另外，本应用运行后，所占内存达 100 MB，但 IntelliJ IDEA 运行后所占内存也只有 1 GB 左右。

    此外，当项目不使用 Spring 时，生成的 EXE 文件一共就占 500 KB 左右，运行所占内存为 60 MB 左右。

    可见，Java 的程序有很多性能上的问题。即便是自称轻量级的 Spring，也有一定的开销

* 删除了“以前版本的代码介绍”



&emsp;&emsp;未来版本可能会实现的功能：

* 提供文本的清空、复制、剪切、粘贴按钮
* 提供文本的撤销和恢复快捷键



* 笔者使用的开发工具：IntelliJ IDEA 2020.1.2 (Ultimate Edition)



* 核心 Java 语言代码文件：

* 程序启动入口 API：

  >  模块 `calculator-core` 中的
  >
  >  > 包`org.wangpai.calculator`中的
  >  >
  >  > > 类 `CalculatorApplication` 中的
  >  > >
  >  > > > 静态方法 `main`



* Java 代码：
  - 总的代码行数为：6498
  - 单元测试代码行数为：1762
* XML 代码：182



* 程序屏幕输入示例：`2334.623*6345-234/1234+234*(254-45.242)=`



* 一个屏幕输出结果的片段：

---

![](img_md/20210810_1.png)

---

![](img_md/20210810_2.png)

---

